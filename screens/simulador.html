<div class="Simulador" data-screen-title="Simulador">
  <div class="Simulador-header">
    <div class="Simulador">
      <p class="subtitle">Screen para simular investimentos ou posiÃ§Ãµes</p>
    </div>
  </div>

  <div class="screen-body sim-layout">
    <!-- COLUNA ESQUERDA: BOTÃ•ES -->
    <aside class="sim-sidebar">
      <button class="btn dark full" data-target="panel-grafico">
        Simular com GrÃ¡fico
      </button>
      <button class="btn dark full" data-target="panel-reforco">
        Simular ReforÃ§o
      </button>
      <button class="btn dark full" data-target="panel-tp2">
        Calcular TP2
      </button>
      <button class="btn dark full" data-target="panel-top10">
        TOP 10 para Investir
      </button>
    </aside>

    <!-- COLUNA DIREITA: â€œPOPUPSâ€ (PAINÃ‰IS) -->
    <section class="sim-content">
      <!-- PAINEL: SIMULAR COM GRÃFICO -->
      <div id="panel-grafico" class="panel active">
        <h3>ðŸ“ˆ Simulador com GrÃ¡fico</h3>

        <div class="form-grid">
          <input type="text" id="nomeAcao" placeholder="Nome da AÃ§Ã£o" />
          <input type="number" id="tp1" placeholder="TP1 (PreÃ§o inicial)" />
          <input type="number" id="tp2" placeholder="TP2 (PreÃ§o final)" />
          <input type="number" id="investimento" placeholder="Investido (â‚¬)" />
          <input
            type="number"
            id="dividendo"
            placeholder="Dividendo por aÃ§Ã£o (â‚¬)"
          />
        </div>

        <div class="quick-buttons">
          <button class="btn ghost" data-quick="500">ðŸ’¶ 500</button>
          <button class="btn ghost" data-quick="1000">ðŸ’¶ 1000</button>
          <button class="btn ghost" data-quick="1500">ðŸ’¶ 1500</button>
          <button class="btn ghost" data-quick="2000">ðŸ’¶ 2000</button>
        </div>

        <div class="actions-row">
          <button class="btn premium" id="btnSimularGrafico">
            Simular com grÃ¡fico
          </button>
          <button class="btn outline" id="btnSomarLucros">Somar Lucros</button>
          <button class="btn outline" id="btnLimparTabela">Limpar</button>
          <button class="btn outline" id="btnLimparGrafico">
            Limpar GrÃ¡fico
          </button>
          <button class="btn outline" id="btnEnviarEmail">Enviar Email</button>
        </div>

        <div class="tabela-scroll-wrapper">
          <table id="tabelaSimulacoes">
            <thead>
              <tr>
                <th>AÃ§Ã£o</th>
                <th>TP1</th>
                <th>TP2</th>
                <th>Investido</th>
                <th>Lucro</th>
                <th>% Crescimento</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div style="height: 300px">
          <canvas id="graficoLucro"></canvas>
        </div>

      </div>

      <!-- PAINEL: REFORÃ‡O -->
      <div id="panel-reforco" class="panel">
        <h3>Simular ReforÃ§o de Investimento</h3>
        <div class="form-grid">
          <input
            type="number"
            id="invest1"
            placeholder="Investimento Inicial (â‚¬)"
          />
          <input type="number" id="preco1" placeholder="PreÃ§o por AÃ§Ã£o 1 (â‚¬)" />
          <input type="number" id="invest22" placeholder="ReforÃ§o (â‚¬)" />
          <input type="number" id="preco2" placeholder="PreÃ§o por AÃ§Ã£o 2 (â‚¬)" />
        </div>

        <div class="actions-row">
          <button class="btn premium" id="btnCalcularReforco">Calcular</button>
          <button class="btn outline" id="btnLimparReforco">Limpar</button>
        </div>

        <div id="resultadoReforco" class="resultado-popup"></div>
      </div>

      <!-- PAINEL: CALCULAR TP2 -->
      <div id="panel-tp2" class="panel">
        <h3>ðŸŽ¯ Calcular TP2</h3>
        <div class="form-grid">
          <input
            type="number"
            id="tp1Input"
            placeholder="TP1 (preÃ§o de compra â‚¬)"
          />
          <input
            type="number"
            id="investimentoInput"
            placeholder="Valor Investido (â‚¬)"
          />
          <input
            type="number"
            id="lucroDesejadoInput"
            placeholder="Lucro Desejado (â‚¬)"
          />
        </div>

        <div class="actions-row">
          <button class="btn premium" id="btnCalcularTP2">Calcular TP2</button>
          <button class="btn outline" id="btnLimparTP2">Limpar</button>
        </div>

        <div id="resultadoTP2" class="resultado-popup"></div>
      </div>

      <!-- PAINEL: TOP 10 -->
    <div id="panel-top10" class="panel">
      <h3>ðŸ”Ž TOP 10 para Investir</h3>

      <div class="form-grid">
        <label>
          Montante a investir (â‚¬)
          <input
            type="number"
            id="inputInvestimento"
            placeholder="Ex: 1500"
            min="0"
            step="0.01"
            required
          />
        </label>

        <label>
          PerÃ­odo de crescimento
          <select id="inputPeriodo">
            <option value="1ano" selected>1 ano</option>
            <option value="1m">1 mÃªs</option>
            <option value="1s">1 semana</option>
          </select>
        </label>

        <!-- (Opcional) multiplicador de horizonte: 1x (1 ano), 2x (2 anos), etc. -->
        <!-- podes remover se nÃ£o quiseres -->
        <label>
          Horizonte (anos)
          <input type="number" id="inputHorizonte" value="1" min="1" step="1" />
        </label>
      </div>

      <div class="actions-row" style="align-items:center;">
        <label style="display:flex; gap:.5rem; align-items:center;">
          <input type="checkbox" id="chkUsarTotal" checked />
          <span>Usar todo o investimento</span>
        </label>

        <label style="display:flex; gap:.5rem; align-items:center;">
          <input type="checkbox" id="chkAcoesCompletas" />
          <span>Apenas aÃ§Ãµes completas</span>
        </label>
      </div>

  <div class="actions-row">
    <button class="btn premium" id="btnSimularTop10">Simular</button>
    <button class="btn outline" id="btnLimparTop10">Limpar</button>
  </div>

  <div id="resultadoSimulacao" class="resultado-container"></div>
</div>


    </section>
  </div>
</div>

<!-- Chart.js (apenas aqui, porque este screen usa grÃ¡fico) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module" src="js/screens/simulador.js"></script>
