<div class="Simulador" data-screen-title="Simulador">
  <div class="Simulador-header">
    <div class="Simulador">
      <p class="subtitle">Screen para simular investimentos ou posições</p>
    </div>
  </div>

  <div class="screen-body sim-layout">
    <!-- COLUNA ESQUERDA: BOTÕES -->
    <aside class="sim-sidebar">
      <button class="btn dark full" data-target="panel-grafico">
        Simular com Gráfico
      </button>
      <button class="btn dark full" data-target="panel-reforco">
        Simular Reforço
      </button>
      <button class="btn dark full" data-target="panel-tp2">
        Calcular TP2
      </button>
      <button class="btn dark full" data-target="panel-top10">
        TOP 10 para Investir
      </button>
    </aside>

    <!-- COLUNA DIREITA: “POPUPS” (PAINÉIS) -->
    <section class="sim-content">
      <!-- PAINEL: SIMULAR COM GRÁFICO -->
      <div id="panel-grafico" class="panel active">
        <h3>📈 Simulador com Gráfico</h3>

        <div class="form-grid">
          <input type="text" id="nomeAcao" placeholder="Nome da Ação" />
          <input type="number" id="tp1" placeholder="TP1 (Preço inicial)" />
          <input type="number" id="tp2" placeholder="TP2 (Preço final)" />
          <input type="number" id="investimento" placeholder="Investido (€)" />
          <input
            type="number"
            id="dividendo"
            placeholder="Dividendo por ação (€)"
          />
        </div>

        <div class="quick-buttons">
          <button class="btn ghost" data-quick="500">💶 500</button>
          <button class="btn ghost" data-quick="1000">💶 1000</button>
          <button class="btn ghost" data-quick="1500">💶 1500</button>
          <button class="btn ghost" data-quick="2000">💶 2000</button>
        </div>

        <div class="actions-row">
          <button class="btn premium" id="btnSimularGrafico">
            Simular com gráfico
          </button>
          <button class="btn outline" id="btnSomarLucros">Somar Lucros</button>
          <button class="btn outline" id="btnLimparTabela">Limpar</button>
          <button class="btn outline" id="btnLimparGrafico">
            Limpar Gráfico
          </button>
          <button class="btn outline" id="btnEnviarEmail">Enviar Email</button>
        </div>

        <div class="tabela-scroll-wrapper">
          <table id="tabelaSimulacoes">
            <thead>
              <tr>
                <th>Ação</th>
                <th>TP1</th>
                <th>TP2</th>
                <th>Investido</th>
                <th>Lucro</th>
                <th>% Crescimento</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div style="height: 300px">
          <canvas id="graficoLucro"></canvas>
        </div>

      </div>

      <!-- PAINEL: REFORÇO -->
      <div id="panel-reforco" class="panel">
        <h3>Simular Reforço de Investimento</h3>
        <div class="form-grid">
          <input
            type="number"
            id="invest1"
            placeholder="Investimento Inicial (€)"
          />
          <input type="number" id="preco1" placeholder="Preço por Ação 1 (€)" />
          <input type="number" id="invest22" placeholder="Reforço (€)" />
          <input type="number" id="preco2" placeholder="Preço por Ação 2 (€)" />
        </div>

        <div class="actions-row">
          <button class="btn premium" id="btnCalcularReforco">Calcular</button>
          <button class="btn outline" id="btnLimparReforco">Limpar</button>
        </div>

        <div id="resultadoReforco" class="resultado-popup"></div>
      </div>

      <!-- PAINEL: CALCULAR TP2 -->
      <div id="panel-tp2" class="panel">
        <h3>🎯 Calcular TP2</h3>
        <div class="form-grid">
          <input
            type="number"
            id="tp1Input"
            placeholder="TP1 (preço de compra €)"
          />
          <input
            type="number"
            id="investimentoInput"
            placeholder="Valor Investido (€)"
          />
          <input
            type="number"
            id="lucroDesejadoInput"
            placeholder="Lucro Desejado (€)"
          />
        </div>

        <div class="actions-row">
          <button class="btn premium" id="btnCalcularTP2">Calcular TP2</button>
          <button class="btn outline" id="btnLimparTP2">Limpar</button>
        </div>

        <div id="resultadoTP2" class="resultado-popup"></div>
      </div>

      <!-- PAINEL: TOP 10 -->
    <div id="panel-top10" class="panel">
      <h3>🔎 TOP 10 para Investir</h3>

      <div class="form-grid">
        <label>
          Montante a investir (€)
          <input
            type="number"
            id="inputInvestimento"
            placeholder="Ex: 1500"
            min="0"
            step="0.01"
            required
          />
        </label>

        <label>
          Período de crescimento
          <select id="inputPeriodo">
            <option value="1ano" selected>1 ano</option>
            <option value="1m">1 mês</option>
            <option value="1s">1 semana</option>
          </select>
        </label>

        <!-- (Opcional) multiplicador de horizonte: 1x (1 ano), 2x (2 anos), etc. -->
        <!-- podes remover se não quiseres -->
        <label>
          Horizonte (anos)
          <input type="number" id="inputHorizonte" value="1" min="1" step="1" />
        </label>
      </div>

      <div class="actions-row" style="align-items:center;">
        <label style="display:flex; gap:.5rem; align-items:center;">
          <input type="checkbox" id="chkUsarTotal" checked />
          <span>Usar todo o investimento</span>
        </label>

        <label style="display:flex; gap:.5rem; align-items:center;">
          <input type="checkbox" id="chkAcoesCompletas" />
          <span>Apenas ações completas</span>
        </label>
      </div>

  <div class="actions-row">
    <button class="btn premium" id="btnSimularTop10">Simular</button>
    <button class="btn outline" id="btnLimparTop10">Limpar</button>
  </div>

  <div id="resultadoSimulacao" class="resultado-container"></div>
</div>


    </section>
  </div>
</div>

<!-- Chart.js (apenas aqui, porque este screen usa gráfico) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module" src="js/screens/simulador.js"></script>
